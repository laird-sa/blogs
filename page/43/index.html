<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="some program and some linux">
<meta property="og:type" content="website">
<meta property="og:title" content="Resive world">
<meta property="og:url" content="https://www.resonanat.com/page/43/index.html">
<meta property="og:site_name" content="Resive world">
<meta property="og:description" content="some program and some linux">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Companyd">
<meta property="article:tag" content="ubuntu linux java elasitesearch">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://www.resonanat.com/page/43/"/>



<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4636539228226058"
     crossorigin="anonymous"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-67H9TCZZ7N"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-67H9TCZZ7N');
</script>


  <title>Resive world - Come world to Record life</title>
  








<meta name="generator" content="Hexo 7.1.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Resive world</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Come world to Record life</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.resonanat.com/2016/01/06/Hustoj%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%89%E8%A3%85%E6%90%AD%E5%BB%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Resive world">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/06/Hustoj%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%89%E8%A3%85%E6%90%AD%E5%BB%BA/" itemprop="url">Hustoj系统的安装搭建</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-01-06T23:32:46+08:00">
                2016-01-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/" itemprop="url" rel="index">
                    <span itemprop="name">Web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>本来一直觉得没什么事情做，最近想了想还是学着写些网页吧，于是就打算用一些平台来学习web开发。想来想去还是研究一下OnlineJudge系统之类的网页。一方面自己之前经常使用，另一方面，觉得以后或许在当助教的过程中能用的到。于是找到了华中科技大学开源的一个OJ系统，据说很出名，但是搭建果断还是费了一点功夫的。</p>
<p>首先得找到正确的渠道，本来一直是在github上找的，然而找到后安装好了发现效果并不好，运行也特别的慢。后来发现了作者的博客 <a target="_blank" rel="noopener" href="http://blog.csdn.net/zhblue/article/details/9125387">zhblue的博客</a>，才知道原来github上的是个beta版的，稳定版的在<a target="_blank" rel="noopener" href="https://code.google.com/p/hustoj/downloads/list">googleCode</a>上。（然而据说googlecode 就要关了，估计就要下不到了。。。）</p>
<p>把下载的文件包解压缩会的到这么多的文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myths@Business:~/下载/install$ ls</span><br><span class="line">db.sql            install-interactive.sh  java0.policy  judged</span><br><span class="line">hustoj-read-only  install.sh              judge.conf    README</span><br></pre></td></tr></table></figure>
<p>老规矩先看README，晓得文件的结构，然后看先install.sh（不要手残直接执行，，很多东西都要事先配置下的）</p>
<p>我们打开install.sh会看到开头的一段话：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">myths@Business:~/下载/install$ head install.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">#before install check DB setting in</span><br><span class="line">#	judge.conf</span><br><span class="line">#	hustoj-read-only/web/include/db_info.inc.php</span><br><span class="line">#	and down here</span><br><span class="line">#and run this with root</span><br><span class="line"></span><br><span class="line">#CENTOS/REDHAT/FEDORA WEBBASE=/var/www/html APACHEUSER=apache</span><br><span class="line">WEBBASE=/var/www</span><br><span class="line">APACHEUSER=www-data</span><br></pre></td></tr></table></figure>
<p>这样我们就知道了，我们需要配置下judge.conf等的文件，来确保网页能访问到数据库，主要就是提供下数据库的用户名和密码。</p>
<p>还有就是默认的站点的位置，apache2默认应该是要放在&#x2F;var&#x2F;www&#x2F;html下，改下就好了。</p>
<p>然后还要注意一点，就是我们会发现install.sh脚本里会执行其他的脚本，而执行的命令是:<code>sudo ./make.sh</code> 这样的。而事实上这谢文件又没有可执行的权限。想直接执行的需要用：<code>sudo bash ./make.sh</code>才行。那么我们要做的就是要么修改脚本，要么给所有的.sh文件都赋予x权限。（之前没有注意到这个脚本没有得到执行，结果导致无法进行判题，后来手动执行了一下就好了）</p>
<p>最后直接install.sh即可，完美不报错，打开&#x2F;JudgeOnline 目录可以看到已经搭建的网站了。</p>
<p>搭建完成后发现并不能直接用，因为没有设置管理员的权限，回头看下README，发现原来第一个管理员账户是要手动敲进数据库的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">注册用户</span><br><span class="line">	http://127.0.0.1/JudgeOnline/registerpage.php</span><br><span class="line">	注册一个普通帐号</span><br><span class="line">创建管理员</span><br><span class="line">    insert into privilege(user_id,rightstr) values(&#x27;zhblue&#x27;,&#x27;administrator&#x27;);</span><br><span class="line">    zhblue 为需要加管理员权限的帐号</span><br></pre></td></tr></table></figure>
<p>照着弄就好了，最后就可以进入&#x2F;JudgeOnline&#x2F;admin看到后台了。</p>
<p>另：这里还有一个坑，不知道什么原因，实验室的电脑能用svn下载评测机的内核，而服务器的电脑不能下载（日了狗了，明明hosts什么的都是一样的而且都是用的校园网）。。。而在install.sh中需要下载最新版本的内核，这导致了服务器上搭建的网站不能进行编译。。。这个问题最后通过将本地下载的最新内核上传上去解决的。。。也是醉了。。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.resonanat.com/2016/01/05/Ubuntu%E4%B8%AD%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D%E7%9A%84%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Resive world">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/05/Ubuntu%E4%B8%AD%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D%E7%9A%84%E6%96%B9%E6%B3%95/" itemprop="url">Ubuntu中修改主机名的方法</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-01-05T21:58:37+08:00">
                2016-01-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在实验室的电脑上安装了Ubuntu，安装的时候填写主机名时没注意，使用的时候才发现命令行是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myths@myths-HP-ProDesk-498-G3-MT-Business-PC:~$</span><br></pre></td></tr></table></figure>

<p>名字长的很蛋疼，本来挺小的命令行硬是被占满了一行，使用的时候怪怪的。</p>
<p>其实修改的方法也很简单，打开&#x2F;etc&#x2F;hostname 文件，填写一个新的主机名就好了。</p>
<p>别急，修改完成后还要再修改一下hosts文件的配置，因为hosts里有这样的开头：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">myths@myths-HP-ProDesk-498-G3-MT-Business-PC:~$ head /etc/hosts</span><br><span class="line">127.0.0.1	localhost</span><br><span class="line">127.0.1.1	myths-HP-ProDesk-498-G3-MT-Business-PC</span><br><span class="line"></span><br><span class="line"># The following lines are desirable for IPv6 capable hosts</span><br><span class="line">::1     ip6-localhost ip6-loopback</span><br><span class="line">fe00::0 ip6-localnet</span><br><span class="line">ff00::0 ip6-mcastprefix</span><br><span class="line">ff02::1 ip6-allnodes</span><br><span class="line">ff02::2 ip6-allrouters</span><br></pre></td></tr></table></figure>
<p>我们还得把本地的主机名也改过来，否则在运行sudo 命令的时候会报一个”无法解析主机名”的错误，而且会特别的慢。</p>
<p>最后重启一下电脑，更新下配置就好了。</p>
<p>配置完成后：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myths@Business:~$</span><br></pre></td></tr></table></figure>
<p>干净了好多～～</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.resonanat.com/2016/01/02/Ubuntu%E4%B8%AD%E6%B7%BB%E5%8A%A0%E8%BD%AF%E4%BB%B6%E6%BA%90%E4%B8%8Eppa%E6%BA%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Resive world">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/02/Ubuntu%E4%B8%AD%E6%B7%BB%E5%8A%A0%E8%BD%AF%E4%BB%B6%E6%BA%90%E4%B8%8Eppa%E6%BA%90/" itemprop="url">Ubuntu中添加软件源与ppa源</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-01-02T23:54:44+08:00">
                2016-01-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Ubuntu下的软件的更新是以一种不同与windows下的方式进行的。windows下的软件更新，是通过打开应用后，应用自动联网查看更新然后来提醒用户。而Ubuntu下，用户只需要隔三差五的运行下<code>apt-get update </code> 命令就可以通过查看软件的各个源来获取所有软件的更新信息。那么，apt-get 命令为什么能做到这个呢？其实是因为apt-get 命令有一个源列表，他所有提供的软件都是从这个列表上获取的，那么很自然，每当软件有了最新的版本，apt总能够通过查看当前的列表获取得到，从而反馈给用户。</p>
<h2 id="软件源"><a href="#软件源" class="headerlink" title="软件源"></a>软件源</h2><p>这个源列表就是<code>/etc/apt/sources.list</code> 。这里记录了源的地址，格式基本如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># deb cdrom:[Ubuntu 14.04.2 LTS _Trusty Tahr_ - Release amd64 (20150218.1)]/ trusty main restricted</span><br><span class="line"></span><br><span class="line"># See http://help.ubuntu.com/community/UpgradeNotes for how to upgrade to</span><br><span class="line"># newer versions of the distribution.</span><br><span class="line">deb http://ubuntu.cn99.com/ubuntu/ trusty main restricted</span><br><span class="line">deb-src http://ubuntu.cn99.com/ubuntu/ trusty main restricted</span><br><span class="line"></span><br><span class="line">## Major bug fix updates produced after the final release of the</span><br><span class="line">## distribution.</span><br><span class="line">deb http://ubuntu.cn99.com/ubuntu/ trusty-updates main restricted</span><br><span class="line">deb-src http://ubuntu.cn99.com/ubuntu/ trusty-updates main restricted</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<p>这里的ubuntu.cn99.com就是我们镜像的地址，决定着源的更新访问的速度。可以通过修改这个来使用最佳的源。当然，每次修改完源之后，还要执行update 命令来使系统重新识别一下。</p>
<h2 id="ppa源"><a href="#ppa源" class="headerlink" title="ppa源"></a>ppa源</h2><p>当然，系统自带的源是很有限的，我们肯定需要一些其他的软件包，然而如果是直接下载deb格式的文件的话，又不能获取到更新和维护。所以这就用到了十分重要的ppa源了。</p>
<p>所谓ppa源，就是指“Personal Package Archives”，也就是个人软件包集。这其实是一个网站，即－<a target="_blank" rel="noopener" href="http://launchpad.net/">launchpad.net</a>　。Launchpad是Ubuntu母公司canonical有限公司所架设的网站，是一个提供维护、支援或联络Ubuntu开发者的平台。由于不是所有的软件都能进入Ubuntu的官方的软件库，launchpad.net 提供了ppa，允许开发者建立自己的软件仓库，自由的上传软件。供用户安装和查看更新。</p>
<p>加入ppa源的命令：<code>sudo add-apt-repository ppa:user/ppa-name</code></p>
<p>删除ppa源的命令：<code>sudo add-apt-repository -r ppa:user/ppa-name</code></p>
<p>比如我们要添加wine的源，就可以执行：<code>sudo add-apt-repository ppa:ubuntu-wine/ppa</code></p>
<p>好了，让我们看看添加完ppa源之后到底发生了什么：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">myths@Business:~$ cd /etc/apt/sources.list.d/</span><br><span class="line">myths@Business:/etc/apt/sources.list.d$ ls</span><br><span class="line">myie-browser.list       sogoupinyin.list</span><br><span class="line">myie-browser.list.save  sogoupinyin.list.save</span><br><span class="line">openalpr.list           ubuntu-wine-ppa-trusty.list</span><br><span class="line">openalpr.list.save</span><br></pre></td></tr></table></figure>
<p>恩，其实是在<code>/etc/apt/sources.list.d/</code>文件夹里放了一个文件，我们打开来看看：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myths@Business:/etc/apt/sources.list.d$ cat ubuntu-wine-ppa-trusty.list </span><br><span class="line">deb http://ppa.launchpad.net/ubuntu-wine/ppa/ubuntu trusty main</span><br><span class="line"># deb-src http://ppa.launchpad.net/ubuntu-wine/ppa/ubuntu trusty main</span><br></pre></td></tr></table></figure>
<p>原来就是添加了一个跟软件源一模一样的东西，他们的作用殊途同归啊。我想其实只是为了分辨官方的源和第三方的源，Ubuntu才设计成在sources.list 和 sources.list.d&#x2F;　这两个地方中存储源。因为第三方的源毕竟不太可信，如果随便更新的话可是会出事情的。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.resonanat.com/2015/12/30/Ubuntu%E7%9A%84OCR%E8%AF%86%E5%88%AB%E8%BD%AF%E4%BB%B6%E5%8C%85tesseract/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Resive world">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/12/30/Ubuntu%E7%9A%84OCR%E8%AF%86%E5%88%AB%E8%BD%AF%E4%BB%B6%E5%8C%85tesseract/" itemprop="url">Ubuntu的OCR识别软件包tesseract</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-12-30T22:53:51+08:00">
                2015-12-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Computer-Vision/" itemprop="url" rel="index">
                    <span itemprop="name">Computer Vision</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这个包据说是开源的OCR中非常好用的一个，在图像识别的领域里，tesseract-ocr引擎曾是1995年UNLV准确度测试中最顶尖的三个引擎之一。在1995年到2006年期间，它几乎没有什么改动，但是它可能仍然是现在最准确的开源OCR引擎之一。它会读取二进制的灰度或者彩色的图像，并输出文字。一个内建的tiff阅读器让它可以读取未压缩的TIFF图像，但是如果要读取压缩过的TIFF图像，它还需要一个附加的libtiff库。</p>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>下载地址是：<a target="_blank" rel="noopener" href="http://code.google.com/p/tesseract-ocr/downloads/list">http://code.google.com/p/tesseract-ocr/downloads/list</a></p>
<p>这里有比较全的文档、源码、语言包等必要数据。当然我们主要是下载　<a target="_blank" rel="noopener" href="http://code.google.com/p/tesseract-ocr/downloads/detail?name=tesseract-ocr-3.02.02.tar.gz&can=2&q=">tesseract-ocr-3.02.02.tar.gz</a>　然后根据README进行配置编译。</p>
<p>当然，如果图方便也可以直接在ubuntu中用apt来下载：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sudo apt-get install tesseract-ocr</span><br></pre></td></tr></table></figure>

<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>基本上按照README 的提示去做就可以了，不过有两点需要注意:</p>
<p>１、这里用的是autorun.sh进行的生成，需要执行aclocal命令，没有安装这个命令会报错。安装方法见<a href="/2015/12/28">aclocal的安装</a>。</p>
<p>２、在执行.&#x2F;configure的时候发现这个还需要一个依赖包leptonica，否则无法配置。这个包可以在<a target="_blank" rel="noopener" href="http://code.google.com/p/leptonica/downloads/list">这里</a>下载。查看README直接安装即可。</p>
<h2 id="语言包"><a href="#语言包" class="headerlink" title="语言包"></a>语言包</h2><p>除了下载源码，我们还需要下载语言包，根据需要可以在之前的页面中下载。下载后会得到一个tessdata文件夹，文件夹下有一堆的文件。</p>
<p>接下来我们只需要把这里的东西丢到&#x2F;usr&#x2F;local&#x2F;share&#x2F;tessdata　里去就可以了，这里保存的就是语言库。</p>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tesseract  b.png res</span><br></pre></td></tr></table></figure>
<p>程序会生成res.txt　文件显示识别到的内容。</p>
<h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p>测试了好多组数据，无论是规范的文字还是不规范的验证码，识别的效果都很不理想。。。看来这个东西还是没得用。。。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.resonanat.com/2015/12/28/%E7%94%A8autogen.sh%E5%AE%89%E8%A3%85%E6%BA%90%E7%A0%81%E6%97%B6%E7%9A%84%E9%87%8D%E8%A6%81%E7%BB%84%E4%BB%B6aclocal/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Resive world">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/12/28/%E7%94%A8autogen.sh%E5%AE%89%E8%A3%85%E6%BA%90%E7%A0%81%E6%97%B6%E7%9A%84%E9%87%8D%E8%A6%81%E7%BB%84%E4%BB%B6aclocal/" itemprop="url">用autogen.sh安装源码时的重要组件aclocal</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-12-28T23:48:10+08:00">
                2015-12-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>试着在Linux上构建一个程序，该程序的开发版本是使用“autogen.sh”脚本进行的。当我运行它来创建配置脚本时，却发生了下面的错误：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">myths@myths-Business-PC:~$ ./autogen.sh</span><br><span class="line">Running aclocal</span><br><span class="line">./autogen.sh: 50: ./autogen.sh: aclocal: not found</span><br><span class="line"></span><br><span class="line">  Something went wrong, bailing out!</span><br></pre></td></tr></table></figure>
<p>说是找不到aclocal文件。查看了下文件目录，发现了一个叫aclocal.m4的脚本，感觉大概是这个文件没有得到解析。</p>
<p>百度了一下发现了，在用类似autogen.sh脚本来生成源代码的时候，通常需要以下三个依赖包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">autoconf    automake    libtool</span><br></pre></td></tr></table></figure>
<p>那么我们就可以通过下载这三个包来解决问题了：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myths@myths-Business:~$ sudo apt-get install libtool autoconf automake </span><br></pre></td></tr></table></figure>
<p>安装好这几个包就可以了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.resonanat.com/2015/12/27/%E4%B8%80%E6%AC%BE%E5%BC%80%E6%BA%90%E7%9A%84%E8%BD%A6%E7%89%8C%E5%8F%B7%E7%A0%81%E8%AF%86%E5%88%AB%E7%B3%BB%E7%BB%9Fopenalpr/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Resive world">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/12/27/%E4%B8%80%E6%AC%BE%E5%BC%80%E6%BA%90%E7%9A%84%E8%BD%A6%E7%89%8C%E5%8F%B7%E7%A0%81%E8%AF%86%E5%88%AB%E7%B3%BB%E7%BB%9Fopenalpr/" itemprop="url">一款开源的车牌号码识别系统openalpr</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-12-27T23:56:49+08:00">
                2015-12-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Computer-Vision/" itemprop="url" rel="index">
                    <span itemprop="name">Computer Vision</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>关于车牌号码的识别，其实研究也很多了。但是对于普通的开发者而言，本身不想去研究这些算法层面的东西，只是想能够直接应用来做我们自己需要的事情。虽然很多网站提供了Api接口，但是毫无疑问这是要money的。之前看到国人发的一片博客介绍他自己写的开源车牌识别系统叫Easypr，我自己也下载下来研究了一下。然而使用的时候发现错误有很多，而且没有正规的接口文档，做的也特别粗糙，显然不太适合直接使用。百度不到我就直接去google，果然还是发现了老外写的一款开源的识别软件–openalpr(Open Automatic License Plate Recognition 开源自动车牌识别)，发布在<a target="_blank" rel="noopener" href="https://github.com/openalpr/openalpr">github</a>上。拿过来测试之后发现效果还挺好的，而且文档清楚，虽然不能识别中文，但是对字母和数字的识别准确性还是挺好的。不管怎么说，先记下来以防以后用到。</p>
<p>这个程序有很多版本，有各种语言的接口，也有Linux下的二进制文件。鉴于现在不需要用来开发，我们直接用他编译成的二进制命令即可。当然如果有需要，也可以去下载他的源码，调用他的函数库。如果有闲工夫的话也可以尝试这改一改。。。。让他能识别中文，造福国人。</p>
<p>安装：</p>
<p>使用github上提供的最简单的方法–</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget -O - http://deb.openalpr.com/openalpr.gpg.key | sudo apt-key add -</span><br><span class="line">echo &quot;deb http://deb.openalpr.com/master/ openalpr main&quot; | sudo tee /etc/apt/sources.list.d/openalpr.list</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install openalpr openalpr-daemon openalpr-utils libopenalpr-dev</span><br></pre></td></tr></table></figure>
<p>帮助：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">alpr  [-c &lt;country_code&gt;] [--config &lt;config_file&gt;] [-n &lt;topN&gt;] [--seek</span><br><span class="line">         &lt;integer_ms&gt;] [-p &lt;pattern code&gt;] [--clock] [-d] [-j] [--]</span><br><span class="line">         [--version] [-h] &lt;image_file_path&gt;</span><br><span class="line"></span><br><span class="line">Where: </span><br><span class="line"></span><br><span class="line">   -c &lt;country_code&gt;,  --country &lt;country_code&gt;</span><br><span class="line">     Country code to identify (either us for USA or eu for Europe). </span><br><span class="line">     Default=us</span><br><span class="line"></span><br><span class="line">   --config &lt;config_file&gt;</span><br><span class="line">     Path to the openalpr.conf file</span><br><span class="line"></span><br><span class="line">   -n &lt;topN&gt;,  --topn &lt;topN&gt;</span><br><span class="line">     Max number of possible plate numbers to return.  Default=10</span><br><span class="line"></span><br><span class="line">   --seek &lt;integer_ms&gt;</span><br><span class="line">     Seek to the specified millisecond in a video file. Default=0</span><br><span class="line"></span><br><span class="line">   -p &lt;pattern code&gt;,  --pattern &lt;pattern code&gt;</span><br><span class="line">     Attempt to match the plate number against a plate pattern (e.g., md</span><br><span class="line">     for Maryland, ca for California)</span><br><span class="line"></span><br><span class="line">   --clock</span><br><span class="line">     Measure/print the total time to process image and all plates. </span><br><span class="line">     Default=off</span><br><span class="line"></span><br><span class="line">   -d,  --detect_region</span><br><span class="line">     Attempt to detect the region of the plate image.  [Experimental] </span><br><span class="line">     Default=off</span><br><span class="line"></span><br><span class="line">   -j,  --json</span><br><span class="line">     Output recognition results in JSON format.  Default=off</span><br><span class="line"></span><br><span class="line">   --,  --ignore_rest</span><br><span class="line">     Ignores the rest of the labeled arguments following this flag.</span><br><span class="line"></span><br><span class="line">   --version</span><br><span class="line">     Displays version information and exits.</span><br><span class="line"></span><br><span class="line">   -h,  --help</span><br><span class="line">     Displays usage information and exits.</span><br><span class="line"></span><br><span class="line">   &lt;image_file_path&gt;</span><br><span class="line">     Image containing license plates</span><br><span class="line"></span><br><span class="line">   OpenAlpr Command Line Utility</span><br></pre></td></tr></table></figure>
<p>效果：</p>
<p><img src="/images/2015/12/27/1/1.jpg"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">myths@myths-X450LD:~/Download$ alpr a.jpg</span><br><span class="line">plate0: 10 results</span><br><span class="line">    - EHL5747	 confidence: 90.5541</span><br><span class="line">    - EHL577	 confidence: 83.4746</span><br><span class="line">    - EHLS747	 confidence: 82.0519</span><br><span class="line">    - EH5747	 confidence: 80.6372</span><br><span class="line">    - EHLB747	 confidence: 78.9456</span><br><span class="line">    - EHE5747	 confidence: 78.337</span><br><span class="line">    - EHC5747	 confidence: 77.903</span><br><span class="line">    - EHL747	 confidence: 77.4477</span><br><span class="line">    - EBL5747	 confidence: 76.8316</span><br><span class="line">    - EL5747	 confidence: 75.6551</span><br></pre></td></tr></table></figure>
<p>对于正面的牌照识别的效果还是很好的，但是对于中国的车牌来说识别的效果就很差了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.resonanat.com/2015/12/26/%E8%8B%8F%E5%A4%A7Mooc%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%88%B7%E8%AF%BE%E8%84%9A%E6%9C%AC%E7%9A%84%E5%88%B6%E4%BD%9C3-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Resive world">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/12/26/%E8%8B%8F%E5%A4%A7Mooc%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%88%B7%E8%AF%BE%E8%84%9A%E6%9C%AC%E7%9A%84%E5%88%B6%E4%BD%9C3-3/" itemprop="url">苏大Mooc系统的刷课脚本的制作（3/3）</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-12-26T23:36:09+08:00">
                2015-12-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/" itemprop="url" rel="index">
                    <span itemprop="name">Web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最后决定用最简单的python脚本进行实现。具体过程部分析了，不过值得一提的是，在登陆获取用户的cookie的时候，他也发送了一个挺长的“随机”串，研究了半天才发现他是使用了md5摘要算法，将密码和密码的摘要一同发给了服务器。。。。。。</p>
<p>以下是源码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#cheat.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> urllib,urllib2,cookielib,md5,re,json,sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">name,pwd</span>):</span><br><span class="line">	url_login=<span class="string">&quot;http://ids1.suda.edu.cn/amserver/UI/Login?goto=http://myauth.suda.edu.cn/default.aspx?app=kczx&quot;</span></span><br><span class="line">	m=md5.new()</span><br><span class="line">	m.update(pwd)</span><br><span class="line">	pwd_md5=m.hexdigest()</span><br><span class="line">	cj=cookielib.CookieJar()</span><br><span class="line">	post_data=urllib.urlencode(&#123;</span><br><span class="line">		<span class="string">&#x27;IDButton&#x27;</span>:<span class="string">&#x27;Submit&#x27;</span>,</span><br><span class="line">		<span class="string">&#x27;encoded&#x27;</span>:<span class="string">&#x27;false&#x27;</span>,</span><br><span class="line">		<span class="string">&#x27;goto&#x27;</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">		<span class="string">&#x27;gx_charset&#x27;</span>:<span class="string">&#x27;UTF-8&#x27;</span>,</span><br><span class="line">		<span class="string">&#x27;IDToken0&#x27;</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">		<span class="string">&#x27;IDToken1&#x27;</span>:name,</span><br><span class="line">		<span class="string">&#x27;IDToken9&#x27;</span>:pwd,</span><br><span class="line">		<span class="string">&#x27;IDToken2&#x27;</span>:pwd_md5,</span><br><span class="line">	&#125;)</span><br><span class="line">	opener=urllib2.build_opener(urllib2.HTTPCookieProcessor(cj))</span><br><span class="line">	opener.addheaders=[(<span class="string">&#x27;User-agent&#x27;</span>,<span class="string">&#x27;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36))&#x27;</span>)]</span><br><span class="line">	urllib2.install_opener(opener)</span><br><span class="line">	req=urllib2.Request(url_login,post_data)</span><br><span class="line">	urllib2.urlopen(req)</span><br><span class="line">	<span class="keyword">return</span> opener</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">watch</span>(<span class="params">PlainId,fPartName,fPartId,fSecond,fVideoSecond,fVideoFileId,opener</span>):</span><br><span class="line">	<span class="keyword">if</span> fVideoFileId==<span class="string">u&#x27;0&#x27;</span>:</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	url=<span class="string">&#x27;http://kczx.suda.edu.cn/G2S/Learning/StudentLearning.ashx?action=GetG2SSetStageLearnPartStudent&amp;fPlanID=&#x27;</span>+PlainId+<span class="string">&#x27;&amp;fPartID=&#x27;</span>+fPartId+<span class="string">&#x27;&amp;fSecond=&#x27;</span>+fVideoSecond</span><br><span class="line">	urllib2.install_opener(opener)</span><br><span class="line">	urllib2.urlopen(url)</span><br><span class="line">	<span class="built_in">print</span> fPartName+<span class="string">&#x27;has been watched&#x27;</span></span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">	<span class="comment">#url_lecture=&#x27;http://kczx.suda.edu.cn/G2S/Learning/Learning.htm?Part=&amp;Plan=34&amp;type=2&#x27;</span></span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(sys.argv)!=<span class="number">4</span>:</span><br><span class="line">		<span class="built_in">print</span> <span class="string">&#x27;Please enter &lt;number&gt; &lt;pwd&gt; &lt;url&gt;&#x27;</span></span><br><span class="line">		sys.exit();</span><br><span class="line">	name=sys.argv[<span class="number">1</span>]</span><br><span class="line">	pwd=sys.argv[<span class="number">2</span>]</span><br><span class="line">	url_lecture=sys.argv[<span class="number">3</span>]</span><br><span class="line">	opener=login(name,pwd)</span><br><span class="line">	urllib2.install_opener(opener)</span><br><span class="line">	PlainId=re.findall(<span class="string">r&#x27;(?&lt;=Plan=).*?(?=&amp;)&#x27;</span>,url_lecture)[<span class="number">0</span>]</span><br><span class="line">	url_ajax=<span class="string">&#x27;http://kczx.suda.edu.cn/G2S/Learning/StudentLearning.ashx?action=GetG2SStageLearnGetChapter&amp;fPlanID=&#x27;</span>+PlainId</span><br><span class="line">	ajax_text=urllib2.urlopen(url_ajax).read()</span><br><span class="line">	ajax_text=ajax_text.replace(<span class="string">&#x27;RowCount&#x27;</span>,<span class="string">&#x27;&quot;RowCount&quot;&#x27;</span>)</span><br><span class="line">	ajax_text=ajax_text.replace(<span class="string">&#x27;Rows&#x27;</span>,<span class="string">&#x27;&quot;Rows&quot;&#x27;</span>)</span><br><span class="line">	s=json.loads(ajax_text)</span><br><span class="line">	fPartName=[]</span><br><span class="line">	fPartId=[]</span><br><span class="line">	fSecond=[]</span><br><span class="line">	fVideoFileId=[]</span><br><span class="line">	fVideoSecond=[]</span><br><span class="line">	<span class="keyword">for</span> k <span class="keyword">in</span> s[<span class="string">&#x27;Rows&#x27;</span>]:</span><br><span class="line">		fPartName.append(k[<span class="string">&#x27;fPartName&#x27;</span>])</span><br><span class="line">		fPartId.append(k[<span class="string">&#x27;fPartID&#x27;</span>])</span><br><span class="line">		fSecond.append(k[<span class="string">&#x27;fSecond&#x27;</span>])</span><br><span class="line">		fVideoSecond.append(k[<span class="string">&#x27;fvideoSecond&#x27;</span>])</span><br><span class="line">		fVideoFileId.append(k[<span class="string">&#x27;fVideoFileID&#x27;</span>])</span><br><span class="line">	<span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(fPartName)):</span><br><span class="line">		watch(PlainId,fPartName[k],fPartId[k],fSecond[k],fVideoSecond[k],fVideoFileId[k],opener)</span><br></pre></td></tr></table></figure>
<p>当然，为了省事，没有任何的容错处理和用户界面。。。使用时，输入：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myths@myths-X450LD:~$ python cheat.py &lt;学号&gt; &lt;密码&gt; &lt;课程网址&gt;</span><br></pre></td></tr></table></figure>
<p>而且在Linux下，课程网址中的“&amp;”符号需要转义为”&amp;“才能用。。。。。。</p>
<p>基本就是这些了，按理说如果管理员有心，是可以查出我们提交的数据其实是有问题的，不过目测应该是没人看的吧～～～</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.resonanat.com/2015/12/25/Linux%E4%B8%AD%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8Etweak%E5%B7%A5%E5%85%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Resive world">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/12/25/Linux%E4%B8%AD%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8Etweak%E5%B7%A5%E5%85%B7/" itemprop="url">Linux中桌面环境配置与tweak工具</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-12-25T15:30:29+08:00">
                2015-12-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>因为Linux是高度自制的，所以几乎任何的设置都可以自行调节，包括主题和桌面效果。</p>
<p>事实上，主题特效是可以调节为任意效果的，甚至可以调节成Mac的样子（当然这样有点二）。</p>
<p>Ubuntu中调节桌面效果的文件路径为:&#x2F;usr&#x2F;share&#x2F;themes&#x2F;，路径下是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myths@myths-X450LD:/usr/share/themes$ ls</span><br><span class="line">AgingGorilla  Atlanta  Crux     Emacs  HighContrast  Radiance  Simple</span><br><span class="line">Ambiance      Bright   Default  Esco   Metabox       Raleigh</span><br></pre></td></tr></table></figure>
<p>每个文件夹就是每个主题了。如果我们想修改主题，我们只需要查询相关文档进行修改即可。</p>
<p>比如如果想调节Ambiance主题下窗口标题的透明度，可以打开&#x2F;usr&#x2F;share&#x2F;themes&#x2F;Ambiance&#x2F;gtk-3.0&#x2F;apps&#x2F;unity.css文件：</p>
<p>将 UnityDecoration.top 的 background-image 设置由：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from (shade (@dark_bg_color, 1.5)),</span><br><span class="line">to (shade (@dark_bg_color, 1.04)));</span><br></pre></td></tr></table></figure>
<p>修改为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from (shade (alpha (@dark_bg_color, 0.4), 1.5)),</span><br><span class="line">to (shade (alpha (@dark_bg_color, 0.4), 1.04)));</span><br></pre></td></tr></table></figure>
<p>将UnityDecoration.top:backdrop 的 background-image 设置由：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from (shade (#474642, 0.92)),</span><br><span class="line">to (@dark_bg_color));</span><br></pre></td></tr></table></figure>
<p>修改为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from (shade (alpha (#474642, 0.4), 0.92)),</span><br><span class="line">to (alpha (@dark_bg_color, 0.4)));</span><br></pre></td></tr></table></figure>
<p>保存后，重新载入主题即可生效。</p>
<p>事实上事情还可以简单点，Ubuntu下有修改桌面效果的现成的软件包：tweak，用这个可以更加方便的修改主题。</p>
<p>安装：<code>$ sudo apt-get install unity-tweak-tool</code></p>
<p>界面：</p>
<p><img src="/images/2015/12/25/1/1.png"></p>
<p>简单易懂，用起来更加方便了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.resonanat.com/2015/12/24/%E8%8B%8F%E5%A4%A7Mooc%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%88%B7%E8%AF%BE%E8%84%9A%E6%9C%AC%E7%9A%84%E5%88%B6%E4%BD%9C2-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Resive world">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/12/24/%E8%8B%8F%E5%A4%A7Mooc%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%88%B7%E8%AF%BE%E8%84%9A%E6%9C%AC%E7%9A%84%E5%88%B6%E4%BD%9C2-3/" itemprop="url">苏大Mooc系统的刷课脚本的制作（2/3）</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-12-24T23:49:00+08:00">
                2015-12-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/" itemprop="url" rel="index">
                    <span itemprop="name">Web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>我们知道了通过发送get请求来进行手动刷课的原理，但是这显然还是不够方便。而且虽然我们知道了发送的包，但是我们并不知道这些数据从何而来。这是一个问题。</p>
<p>继续查看源码，终于在头信息里发现他引用了一个叫StudentLearning.js文件，介绍了整个系统运行的逻辑。其中有一个非常重要的函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//视频学习表</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">GetStudentstudy</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Isfull</span> != <span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ($(<span class="string">&quot;.item_odd1&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;kid&quot;</span>) != <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">            noteTime = <span class="built_in">parseInt</span>(<span class="title function_">jwplayer</span>(<span class="string">&quot;div_play&quot;</span>).<span class="title function_">getPosition</span>());</span><br><span class="line">            $.<span class="title function_">ajax</span>(&#123; <span class="attr">url</span>: <span class="string">&#x27;StudentLearning.ashx?action=GetG2SSetStageLearnPartStudent&amp;fPlanID=&#x27;</span> + $(<span class="string">&quot;.item_odd1&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;FBI&quot;</span>) + <span class="string">&#x27;&amp;fPartID=&#x27;</span> + $(<span class="string">&quot;.item_odd1&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;kid&quot;</span>) + <span class="string">&quot;&amp;fSecond=&quot;</span> + noteTime, <span class="attr">cache</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>看到了我们之前用的地址了，这里他用ajax技术向后台传输那些数据，fPlanID、fPartID、fSecond这些东西就来自于这里了。</p>
<p>其中的fPlanID的值很明显就是课程的URL:<code>http://kczx.suda.edu.cn/G2S/Learning/Learning.htm?Part=&amp;Plan=34&amp;type=2</code>里的Plan值了。那么fPartID该怎么得到呢？</p>
<p>在StudentLearning.js中找了一下，又发现了一个函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">GetList</span>(<span class="params">type</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> flagqimokaoshi = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> locktiaozhuan = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> fPlanID = <span class="title function_">request</span>(<span class="string">&quot;Plan&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> flagPartID = <span class="title function_">request</span>(<span class="string">&quot;Part&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> flagisLmitNum = <span class="number">0</span>;</span><br><span class="line">    $.<span class="title function_">ajax</span>(&#123; <span class="attr">url</span>: <span class="string">&#x27;StudentLearning.ashx?action=GetG2SStageLearnGetChapter&amp;fPlanID=&#x27;</span> + fPlanID, <span class="attr">cache</span>: <span class="literal">false</span>, <span class="attr">async</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (data != <span class="string">&quot;False&quot;</span>) &#123;</span><br><span class="line">                data = data.<span class="title function_">replace</span>(<span class="regexp">/[\r\n]/g</span>, <span class="string">&quot;\\r\\n&quot;</span>);</span><br><span class="line">                <span class="keyword">var</span> json = <span class="built_in">eval</span>(<span class="string">&quot;(&quot;</span> + data + <span class="string">&quot;)&quot;</span>);</span><br><span class="line">                <span class="keyword">var</span> strHtml = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                <span class="keyword">var</span> flagParent = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">var</span> flagPart = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (json.<span class="property">Rows</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    strHtml += <span class="string">&quot; &lt;ul class=&#x27;catalogue_ul1&#x27; id=&#x27;chapterList&#x27;&gt;&quot;</span>;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; json.<span class="property">Rows</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">                        <span class="keyword">var</span> rows = json.<span class="property">Rows</span>[i];</span><br><span class="line">                        <span class="keyword">var</span> fPartID = rows.<span class="property">fPartID</span>;</span><br><span class="line">                        <span class="keyword">var</span> fPartName = rows.<span class="property">fPartName</span>;</span><br><span class="line">                        <span class="keyword">var</span> fParentID = rows.<span class="property">fParentID</span>;</span><br><span class="line">                        <span class="keyword">var</span> fVideoURL = rows.<span class="property">fVideoURL</span>;</span><br><span class="line">                        <span class="keyword">var</span> zhuangtai = <span class="number">0</span>;</span><br><span class="line">                        <span class="keyword">var</span> fpartvideourl = rows.<span class="property">fpartvideourl</span>;</span><br><span class="line">                        <span class="keyword">var</span> fCCPWebSiteID = rows.<span class="property">fCCPWebSiteID</span>;</span><br><span class="line">                        <span class="keyword">var</span> fSchoolWork_ExamID = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                        fSchoolWork_ExamID = rows.<span class="property">fSchoolWork_ExamID</span>;</span><br><span class="line">                        <span class="keyword">var</span> fVideoFileID = rows.<span class="property">fVideoFileID</span>;</span><br><span class="line">                        <span class="keyword">var</span> fIsCrossChapter = rows.<span class="property">fIsCrossChapter</span>; <span class="comment">//是否跨章</span></span><br><span class="line">                        <span class="keyword">var</span> fStatus = rows.<span class="property">fStatus</span>; <span class="comment">//测试状态</span></span><br><span class="line">                        <span class="keyword">var</span> fSecond = rows.<span class="property">fSecond</span>; <span class="comment">//已读视频(秒)</span></span><br><span class="line">                        <span class="keyword">var</span> fContent = rows.<span class="property">fContent</span>;</span><br><span class="line">                        <span class="keyword">var</span> fstudyStatus = rows.<span class="property">fstudyStatus</span>; <span class="comment">//学习状态</span></span><br><span class="line">                        <span class="keyword">var</span> fBuildMode = rows.<span class="property">fBuildMode</span>; <span class="comment">//作业状态 1 指定试卷 2 题库选题 3 直接出题</span></span><br><span class="line">                        <span class="keyword">var</span> fvideoSecond = rows.<span class="property">fvideoSecond</span>; <span class="comment">//视频总时长(秒)</span></span><br><span class="line">                        <span class="keyword">var</span> fxuexi = rows.<span class="property">fxuexi</span>;</span><br><span class="line">                        <span class="keyword">var</span> qimokaishi = rows.<span class="property">qimokaishi</span>; <span class="comment">//期末考试</span></span><br><span class="line">                        <span class="keyword">var</span> qimofBuildMode = rows.<span class="property">qimofBuildMode</span>;</span><br><span class="line">                        <span class="keyword">var</span> qimofCCPWebSiteID = rows.<span class="property">qimofCCPWebSiteID</span>;</span><br><span class="line">                        <span class="keyword">var</span> weixuexi = rows.<span class="property">weixuexi</span>; <span class="comment">//是否学习 1已学 2 未学</span></span><br><span class="line">                        <span class="keyword">var</span> fisTest = rows.<span class="property">fisTest</span>;</span><br><span class="line">                        <span class="keyword">var</span> fTaskID = rows.<span class="property">fTaskIDs</span>;</span><br><span class="line">                        <span class="keyword">var</span> fisLmitNum = rows.<span class="property">fisLmitNum</span>;</span><br><span class="line">                        <span class="keyword">var</span> <span class="title class_">MustFileIsFinish</span>=rows.<span class="property">MustFileIsFinish</span>;<span class="comment">//资料学习情况 1:已完成学习 0:未完成 </span></span><br><span class="line">                        <span class="keyword">var</span> flagyangshi = <span class="string">&quot;time_ico1 unPlay &quot;</span>;</span><br><span class="line">                        <span class="keyword">var</span> icoTest = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                        <span class="keyword">var</span> ficoTestTitle = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                        <span class="keyword">if</span> (weixuexi == <span class="number">1</span>) &#123;</span><br><span class="line">                            zhuangtai = <span class="number">1</span>;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            zhuangtai = <span class="number">0</span>;</span><br><span class="line">                        &#125;</span><br><span class="line"> ......</span><br></pre></td></tr></table></figure>
<p>名字叫GetList，那么意图也就很明显了，就是得到课程列表的所有信息。用ajax向后台传入课程名，然后就会得到一大串的关于整个课程信息的回复。尝试了发送下，得到如下类似json格式的反馈：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    RowCount<span class="punctuation">:</span> <span class="number">34</span><span class="punctuation">,</span></span><br><span class="line">    Rows<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;fPartID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;264&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fPartName&quot;</span><span class="punctuation">:</span> <span class="string">&quot; 大学文化——大学的内涵与使命&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fParentID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fPlanID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;34&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fBrief&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fVideoFileID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fSchoolWork_ExamID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;3172&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fCCPWebSiteID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;27745&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fBuildMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;3&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fpartvideourl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fStatus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;20&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fSecond&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5953&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fvideoSecond&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5953&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fVideoURL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fContent&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fOrder&quot;</span><span class="punctuation">:</span> <span class="string">&quot;100&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fIsCrossChapter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;qimokaishi&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5919&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;qimofBuildMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;3&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;qimofCCPWebSiteID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;27745&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;qimoStatus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fstudyStatus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fxuexi&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;weixuexi&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fisTest&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;MustFileIsFinish&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fTaskID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fisLmitNum&quot;</span><span class="punctuation">:</span> <span class="string">&quot;-1&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;fPartID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;265&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fPartName&quot;</span><span class="punctuation">:</span> <span class="string">&quot; 大学文化——大学的内涵与使命（一）&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fParentID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;264&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fPlanID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;34&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fBrief&quot;</span><span class="punctuation">:</span> <span class="string">&quot;%u5185%u5BB9%u63CF%u8FF0%uFF08%u6700%u591A200%u5B57%uFF09&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fVideoFileID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;651&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fSchoolWork_ExamID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fCCPWebSiteID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fBuildMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;-1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fpartvideourl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://42.244.42.193:1221/download/38d2e715-2044-429d-b29d-89b964863a81.mp4&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fStatus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fSecond&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1756&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fvideoSecond&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1756&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fVideoURL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fContent&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fOrder&quot;</span><span class="punctuation">:</span> <span class="string">&quot;101&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fIsCrossChapter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;qimokaishi&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5919&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;qimofBuildMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;3&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;qimofCCPWebSiteID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;27745&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;qimoStatus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fstudyStatus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fxuexi&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;weixuexi&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fisTest&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;MustFileIsFinish&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fTaskID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fisLmitNum&quot;</span><span class="punctuation">:</span> <span class="string">&quot;-1&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">.......</span><br></pre></td></tr></table></figure>
<p>说他是类json格式，是因为他的RowCount和Rows没有加引号。。。。也是无语。。。</p>
<p>我们发现想要得到的信息几乎全在这里，通过他的命名也很容易看懂其表示的含义。</p>
<p>OK，到现在我们已经知道了所有想要的信息和业务的逻辑了，剩下的就是将这个思想付诸实现了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.resonanat.com/2015/12/22/%E8%8B%8F%E5%A4%A7Mooc%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%88%B7%E8%AF%BE%E8%84%9A%E6%9C%AC%E7%9A%84%E5%88%B6%E4%BD%9C1-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Resive world">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/12/22/%E8%8B%8F%E5%A4%A7Mooc%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%88%B7%E8%AF%BE%E8%84%9A%E6%9C%AC%E7%9A%84%E5%88%B6%E4%BD%9C1-3/" itemprop="url">苏大Mooc系统的刷课脚本的制作（1/3）</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-12-22T23:56:38+08:00">
                2015-12-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/" itemprop="url" rel="index">
                    <span itemprop="name">Web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>闲话不说，其实写这个目的大家都懂，懒得看那些无聊的网路课。但是由于课程的要求，这些课程必须要看，而且由于技术原因，又不能跳着看，视频的播放条不能拖动，只能硬着头皮的刷时间。很多同学都是开着视频开着静音做其他的事，想想也是悲哀。</p>
<p>当然，我写这个程序的初衷并不是为了偷懒，而是纯粹的学习。用技术手段做出一些别人难以实现的事情可是很有成就感的。为了实现这样一个简单的目的其实也不是那么简单的（至少对我这个前几天刚接触web的人而言）。。。</p>
<h2 id="课程首页"><a href="#课程首页" class="headerlink" title="课程首页"></a>课程首页</h2><p><img src="/images/2015/12/22/1/1.png"></p>
<p>从右边点击课程名字就会打开视频，学习完的视频前面会有绿色的钩钩；每个视频下面有播放条，播放条只能在已经看过的部分任意拖动，不能向前拖动。</p>
<p>这就是课程首页的情况，接下来就是想查看源码。结果发现网页是动态生成的，而不是之前学习的静态网页。这两者最直观的感受就是源代码和审查元素得到的代码不一样，也就是用javascript之类的语言根据即时的情况生成的网页。这时候就需要细致的分析js代码了。</p>
<p>&nbsp;</p>
<h2 id="封包分析"><a href="#封包分析" class="headerlink" title="封包分析"></a>封包分析</h2><p>很自然的想法就是查看下封包，弄清楚在观看视频的时候到底是发送了什么东西给后台让后台标记当前视频为已看。经过一番查找（需要细心的找），在用chrome找到了这样的一个包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">General：</span><br><span class="line"></span><br><span class="line">Request URL:http://kczx.suda.edu.cn/G2S/Learning/StudentLearning.ashx?action=GetG2SSetStageLearnPartStudent&amp;fPlanID=34&amp;fPartID=359&amp;fSecond=550&amp;_=1451308953409</span><br><span class="line">Request Method:GET</span><br><span class="line">Status Code:200 OK</span><br><span class="line">Remote Address:42.244.42.191:80</span><br><span class="line"></span><br><span class="line">Request Headers：</span><br><span class="line"></span><br><span class="line">Accept:*/*</span><br><span class="line">Accept-Encoding:gzip, deflate, sdch</span><br><span class="line">Accept-Language:zh-CN,zh;q=0.8</span><br><span class="line">Connection:keep-alive</span><br><span class="line">Cookie:ASP.NET_SessionId=zh4ifl55q521xx45bmbjwa45; amlbcookie=01; iPlanetDirectoryPro=AQIC5wM2LY4SfcxX1vREajjp5zIi4s9GtkPT1Ivxjw%2BJfo4%3D%40AAJTSQACMDE%3D%23</span><br><span class="line">Host:kczx.suda.edu.cn</span><br><span class="line">Referer:http://kczx.suda.edu.cn/G2S/Learning/Learning.htm?Part=&amp;Plan=34&amp;type=2</span><br><span class="line">User-Agent:Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36</span><br><span class="line">X-Requested-With:XMLHttpRequest</span><br><span class="line"></span><br><span class="line">Query String Parameters：</span><br><span class="line"></span><br><span class="line">action:GetG2SSetStageLearnPartStudent</span><br><span class="line">fPlanID:34</span><br><span class="line">fPartID:359</span><br><span class="line">fSecond:550</span><br><span class="line">_:1451308953409</span><br></pre></td></tr></table></figure>
<p>看到了顿时就豁然开朗了，原来每隔一段时间，网页会通过一个get请求，将当前看的视频的名称、看到的时间发送给后台，让后台加以记录，确认已经看到的地方。fPlanID很明显是课程的编号，fPartID应该是视频的编号，而fSecond应该是当前看到的时间了（最后哪个_:的值，可能是token值，然而翻遍代码，并没有找到对应的值，我想应该是一个随机数，暂时不去管他，应该也无妨）。所以，“作弊”的方法也就很简单了，就是根据这个信息，将描述视频的信息和当前看到（伪造）的时间发送给后台就可以了。</p>
<p>经过一番尝试，这样做果断是合理的。那么，通过这个手段，我们就可以手动的通过输入地址发送get请求来“刷课”了。虽然这显然不够帅，然而对那些没有编程基础的人来说，这种方法倒也是简单快捷的（总比挂着视频方便）。</p>
<p>&nbsp;</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/42/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/42/">42</a><span class="page-number current">43</span><a class="page-number" href="/page/44/">44</a><span class="space">&hellip;</span><a class="page-number" href="/page/51/">51</a><a class="extend next" rel="next" href="/page/44/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">502</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">63</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">251</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Companyd</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
