<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">
<meta name="baidu-site-verification" content="codeva-Ss7c9LFzfb" />








<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Python,Crawler," />










<meta name="description" content="这是好久前遇到的一道非主流题，当时愣是没弄明白题意。最近闲着没事翻开来看了看，并在网上找到了某大牛写的爬虫，写的真美，顿觉的有必要收藏一下。虽然现在不能完全看懂，但是我想不久的将来，当我想系统的学Python的时候，这肯定是很有用的东西。Hdoj3337 题目非常短，主要是这句话： There is only one line in the input. It is a sentence whic">
<meta property="og:type" content="article">
<meta property="og:title" content="解决Hdoj3337问题的简易爬虫">
<meta property="og:url" content="https://www.resonanat.com/2015/11/17/%E8%A7%A3%E5%86%B3Hdoj3337%E9%97%AE%E9%A2%98%E7%9A%84%E7%AE%80%E6%98%93%E7%88%AC%E8%99%AB/index.html">
<meta property="og:site_name" content="Resive world">
<meta property="og:description" content="这是好久前遇到的一道非主流题，当时愣是没弄明白题意。最近闲着没事翻开来看了看，并在网上找到了某大牛写的爬虫，写的真美，顿觉的有必要收藏一下。虽然现在不能完全看懂，但是我想不久的将来，当我想系统的学Python的时候，这肯定是很有用的东西。Hdoj3337 题目非常短，主要是这句话： There is only one line in the input. It is a sentence whic">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2015-11-17T11:28:23.000Z">
<meta property="article:modified_time" content="2024-01-22T01:54:03.101Z">
<meta property="article:author" content="Companyd">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="Crawler">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://www.resonanat.com/2015/11/17/解决Hdoj3337问题的简易爬虫/"/>



<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4636539228226058"
     crossorigin="anonymous"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-67H9TCZZ7N"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-67H9TCZZ7N');
</script>


  <title>解决Hdoj3337问题的简易爬虫 | Resive world</title>
  








<meta name="generator" content="Hexo 7.1.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Resive world</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Come world to Record life</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.resonanat.com/2015/11/17/%E8%A7%A3%E5%86%B3Hdoj3337%E9%97%AE%E9%A2%98%E7%9A%84%E7%AE%80%E6%98%93%E7%88%AC%E8%99%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Resive world">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">解决Hdoj3337问题的简易爬虫</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-11-17T19:28:23+08:00">
                2015-11-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>这是好久前遇到的一道非主流题，当时愣是没弄明白题意。最近闲着没事翻开来看了看，并在网上找到了某大牛写的爬虫，写的真美，顿觉的有必要收藏一下。虽然现在不能完全看懂，但是我想不久的将来，当我想系统的学Python的时候，这肯定是很有用的东西。<br><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=3337">Hdoj3337</a></p>
<p>题目非常短，主要是这句话：</p>
<p>There is only one line in the input. It is a sentence which implies some integer. The length of the sentence is no more than 16. The sentence contains only letters(both uppercase and lowercase), digits, and whitespace. You may assume the given sentence is written in standard English, and always implies exactly one single integer.</p>
<p>意思就是给你一句话，让你写出这句话“imply”的一个数字。。。然而你并不知道imply是什么意思，所以你必须知道他给的这句话是什么，因此解决这道题的标准做法就是通过ＯＪ提供的　AC，WA，TLE，MLE 等提示来对样例进行数据挖掘，具体做法就是类似二分的东西，通过多次提交来确定每一位的字母是什么。</p>
<p>以下是大牛写的程序：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">status_url = <span class="string">&#x27;http://acm.hdu.edu.cn/status.php&#x27;</span></span><br><span class="line">submit_url = <span class="string">&#x27;http://acm.hdu.edu.cn/submit.php&#x27;</span></span><br><span class="line">login_url = <span class="string">&#x27;http://acm.hdu.edu.cn/userloginex.php&#x27;</span></span><br><span class="line">homepage_url = <span class="string">&#x27;http://acm.hdu.edu.cn/&#x27;</span></span><br><span class="line">language = &#123;&#125;</span><br><span class="line">language[<span class="string">&#x27;G++&#x27;</span>] = <span class="number">1</span></span><br><span class="line">language[<span class="string">&#x27;GCC&#x27;</span>] = <span class="number">2</span></span><br><span class="line">language[<span class="string">&#x27;C++&#x27;</span>] = <span class="number">3</span></span><br><span class="line">language[<span class="string">&#x27;C&#x27;</span>] = <span class="number">4</span></span><br><span class="line">language[<span class="string">&#x27;Pascal&#x27;</span>] = <span class="number">5</span></span><br><span class="line">language[<span class="string">&#x27;Java&#x27;</span>] = <span class="number">6</span></span><br><span class="line">language[<span class="string">&#x27;C#&#x27;</span>] = <span class="number">7</span></span><br><span class="line">file_data = []</span><br><span class="line">previous_runid = <span class="string">&#x27;&#x27;</span></span><br><span class="line">greater = <span class="string">&#x27;Time Limit Exceeded&#x27;</span></span><br><span class="line">less = <span class="string">&#x27;Output Limit Exceeded&#x27;</span></span><br><span class="line">equal = <span class="string">&#x27;Wrong Answer&#x27;</span></span><br><span class="line">username = <span class="string">&#x27;your username&#x27;</span></span><br><span class="line">userpass = <span class="string">&#x27;your password&#x27;</span></span><br><span class="line">template_input_data = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="string">#include &lt;cstdlib&gt;</span></span><br><span class="line"><span class="string">char buffer[0x10000];//64KB</span></span><br><span class="line"><span class="string">// Wrong Answer</span></span><br><span class="line"><span class="string">void equal(void)</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">	printf(&quot;www.hoxily.com\n&quot;);</span></span><br><span class="line"><span class="string">	exit(0);</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">// OLE</span></span><br><span class="line"><span class="string">void less(void)</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">	while (true)</span></span><br><span class="line"><span class="string">	&#123;</span></span><br><span class="line"><span class="string">		fwrite(buffer, sizeof(char), sizeof(buffer), stdout);</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">// TLE</span></span><br><span class="line"><span class="string">void greater(void)</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">	while (true)</span></span><br><span class="line"><span class="string">	&#123;</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main(void)</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">	int ch;</span></span><br><span class="line"><span class="string">	int count = 0;</span></span><br><span class="line"><span class="string">	while ((ch = getchar()) != EOF)</span></span><br><span class="line"><span class="string">	&#123;</span></span><br><span class="line"><span class="string">		if (ch &lt; 0)</span></span><br><span class="line"><span class="string">		&#123;</span></span><br><span class="line"><span class="string">			ch = ch + 256;</span></span><br><span class="line"><span class="string">		&#125;</span></span><br><span class="line"><span class="string">		if (count == skip)</span></span><br><span class="line"><span class="string">		&#123;</span></span><br><span class="line"><span class="string">			if (ch == guess)</span></span><br><span class="line"><span class="string">			&#123;</span></span><br><span class="line"><span class="string">				equal();</span></span><br><span class="line"><span class="string">			&#125;</span></span><br><span class="line"><span class="string">			else if (ch &lt; guess)</span></span><br><span class="line"><span class="string">			&#123;</span></span><br><span class="line"><span class="string">				less();</span></span><br><span class="line"><span class="string">			&#125;</span></span><br><span class="line"><span class="string">			else</span></span><br><span class="line"><span class="string">			&#123;</span></span><br><span class="line"><span class="string">				greater();</span></span><br><span class="line"><span class="string">			&#125;</span></span><br><span class="line"><span class="string">		&#125;</span></span><br><span class="line"><span class="string">		count++;</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">	return 0;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">template_input_length = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="string">#include &lt;cstdlib&gt;</span></span><br><span class="line"><span class="string">#define MAXLEN 0x7fffffff</span></span><br><span class="line"><span class="string">#define MINLEN 0</span></span><br><span class="line"><span class="string">char buffer[0x10000];//64KB</span></span><br><span class="line"><span class="string">// Wrong Answer</span></span><br><span class="line"><span class="string">void equal(void)</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">	printf(&quot;www.hoxily.com\n&quot;);</span></span><br><span class="line"><span class="string">	exit(0);</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">// OLE</span></span><br><span class="line"><span class="string">void less(void)</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">	while (true)</span></span><br><span class="line"><span class="string">	&#123;</span></span><br><span class="line"><span class="string">		fwrite(buffer, sizeof(char), sizeof(buffer), stdout);</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">// TLE</span></span><br><span class="line"><span class="string">void greater(void)</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">	while (true)</span></span><br><span class="line"><span class="string">	&#123;</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main(void)</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">	int ch;</span></span><br><span class="line"><span class="string">	int count = 0;</span></span><br><span class="line"><span class="string">	while ((ch = getchar()) != EOF)</span></span><br><span class="line"><span class="string">	&#123;</span></span><br><span class="line"><span class="string">		count++;</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">	if (count &lt; guess)</span></span><br><span class="line"><span class="string">	&#123;</span></span><br><span class="line"><span class="string">		less();</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">	else if (count == guess)</span></span><br><span class="line"><span class="string">	&#123;</span></span><br><span class="line"><span class="string">		equal();</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">	else</span></span><br><span class="line"><span class="string">	&#123;</span></span><br><span class="line"><span class="string">		greater();</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">	return 0;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">cookies = &#123;<span class="string">&#x27;exesubmitlang&#x27;</span>:<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;CNZZDATA1254072405&#x27;</span>: <span class="string">&#x27;965477099-1421749361-|1427515514&#x27;</span>&#125;</span><br><span class="line">pid = <span class="number">1000</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">referer</span>):</span><br><span class="line">    <span class="keyword">global</span> cookies</span><br><span class="line">    headers = &#123;<span class="string">&#x27;referer&#x27;</span>:referer, <span class="string">&#x27;user-agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 6.3; WOW64; rv:36.0) Gecko/20100101 Firefox/36.0&#x27;</span>&#125;</span><br><span class="line">    r = requests.post(login_url, params=&#123;<span class="string">&#x27;action&#x27;</span>:<span class="string">&#x27;login&#x27;</span>&#125;, data=&#123;<span class="string">&#x27;username&#x27;</span>:username,<span class="string">&#x27;userpass&#x27;</span>:userpass, <span class="string">&#x27;login&#x27;</span>:<span class="string">&#x27;Sign+In&#x27;</span>&#125;, headers = headers, cookies=cookies)</span><br><span class="line">    <span class="keyword">if</span> r.cookies.get(<span class="string">&#x27;PHPSESSID&#x27;</span>) <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        cookies[<span class="string">&#x27;PHPSESSID&#x27;</span>] = r.cookies.get(<span class="string">&#x27;PHPSESSID&#x27;</span>)</span><br><span class="line">    <span class="comment">#print(repr(cookies))</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_length_submit</span>(<span class="params">guess</span>):</span><br><span class="line">    usercode = <span class="string">&#x27;int guess = &#x27;</span> + <span class="built_in">str</span>(guess) + <span class="string">&#x27;;rn&#x27;</span> + template_input_length</span><br><span class="line">    <span class="keyword">return</span> test_submit(usercode)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">find_input_length</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;GUESS&#x27;</span>, <span class="string">&#x27;RESULT&#x27;</span>)</span><br><span class="line">    guess = <span class="number">1</span></span><br><span class="line">    left = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        result = test_length_submit(guess)</span><br><span class="line">        <span class="built_in">print</span>(guess, result)</span><br><span class="line">        <span class="keyword">if</span> result == <span class="string">&#x27;lt&#x27;</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            left = guess</span><br><span class="line">            guess = guess * <span class="number">2</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;LEFT&#x27;</span>, <span class="string">&#x27;RIGHT&#x27;</span>, <span class="string">&#x27;GUESS&#x27;</span>, <span class="string">&#x27;RESULT&#x27;</span>)</span><br><span class="line">    right = guess</span><br><span class="line">    <span class="keyword">while</span> left &lt;= right:</span><br><span class="line">        guess = (left + right) // <span class="number">2</span></span><br><span class="line">        result = test_length_submit(guess)</span><br><span class="line">        <span class="built_in">print</span>(left, right, guess, result)</span><br><span class="line">        <span class="keyword">if</span> result == <span class="string">&#x27;eq&#x27;</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;length =&#x27;</span>, guess)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">elif</span> result == <span class="string">&#x27;gt&#x27;</span>:</span><br><span class="line">            left = guess + <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> result == <span class="string">&#x27;lt&#x27;</span>:</span><br><span class="line">            right = guess - <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> guess</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_submit</span>(<span class="params">usercode</span>):</span><br><span class="line">    <span class="keyword">global</span> cookies</span><br><span class="line">    headers = &#123;<span class="string">&#x27;referer&#x27;</span>:<span class="string">&#x27;http://acm.hdu.edu.cn/showproblem.php?pid=&#x27;</span> + <span class="built_in">str</span>(pid), <span class="string">&#x27;user-agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 6.3; WOW64; rv:36.0) Gecko/20100101 Firefox/36.0&#x27;</span>&#125;</span><br><span class="line">    r = requests.get(submit_url, params=&#123;<span class="string">&#x27;pid&#x27;</span>:pid&#125;, allow_redirects=<span class="literal">False</span>, cookies=cookies, headers=headers)</span><br><span class="line">    <span class="keyword">if</span> r.cookies.get(<span class="string">&#x27;PHPSESSID&#x27;</span>) <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        cookies[<span class="string">&#x27;PHPSESSID&#x27;</span>] = r.cookies.get(<span class="string">&#x27;PHPSESSID&#x27;</span>)</span><br><span class="line">    <span class="comment">#print(repr(cookies))</span></span><br><span class="line">    <span class="keyword">if</span> r.status_code == <span class="number">302</span>:</span><br><span class="line">        <span class="comment"># need login</span></span><br><span class="line">        login(r.url)</span><br><span class="line">    r = requests.post(submit_url, params=&#123;<span class="string">&#x27;action&#x27;</span>:<span class="string">&#x27;submit&#x27;</span>&#125;, data=&#123;<span class="string">&#x27;check&#x27;</span>:<span class="number">0</span>, <span class="string">&#x27;problemid&#x27;</span>:pid, <span class="string">&#x27;language&#x27;</span>:language[<span class="string">&#x27;C++&#x27;</span>]-<span class="number">1</span>, <span class="string">&#x27;usercode&#x27;</span>:usercode&#125;, allow_redirects=<span class="literal">False</span>, cookies = cookies, headers=headers)</span><br><span class="line">    <span class="keyword">if</span> r.cookies.get(<span class="string">&#x27;PHPSESSID&#x27;</span>) <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        cookies[<span class="string">&#x27;PHPSESSID&#x27;</span>] = r.cookies.get(<span class="string">&#x27;PHPSESSID&#x27;</span>)</span><br><span class="line">    <span class="comment">#print(repr(cookies))</span></span><br><span class="line">    <span class="comment"># if r.status_code != 302:</span></span><br><span class="line">        <span class="comment"># raise Exception(r)</span></span><br><span class="line">    <span class="comment"># else:</span></span><br><span class="line">    <span class="keyword">global</span> previous_runid</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        r = requests.get(status_url, params=&#123;<span class="string">&#x27;user&#x27;</span>:username, <span class="string">&#x27;lang&#x27;</span>:<span class="number">0</span>, <span class="string">&#x27;status&#x27;</span>:<span class="number">0</span>&#125;, headers=headers,cookies=cookies)</span><br><span class="line">        text = r.text</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            index = text.index(<span class="string">&#x27;tr align=center&#x27;</span>)</span><br><span class="line">        <span class="keyword">except</span> ValueError:</span><br><span class="line">            <span class="comment"># server is busy so that return something else.</span></span><br><span class="line">            time.sleep(<span class="number">5</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        index = text.index(<span class="string">&#x27;px&gt;&#x27;</span>, index)</span><br><span class="line">        index += <span class="built_in">len</span>(<span class="string">&#x27;px&gt;&#x27;</span>)</span><br><span class="line">        endIndex = text.index(<span class="string">&#x27;&lt;/td&gt;&#x27;</span>, index)</span><br><span class="line">        runid = text[index:endIndex]</span><br><span class="line">        <span class="keyword">if</span> runid == previous_runid: <span class="comment"># submit failed</span></span><br><span class="line">            <span class="keyword">return</span> test_submit(usercode)</span><br><span class="line">        index = text.index(<span class="string">&#x27;green&gt;&#x27;</span>, index)</span><br><span class="line">        index = index + <span class="built_in">len</span>(<span class="string">&#x27;green&gt;&#x27;</span>)</span><br><span class="line">        endIndex = text.index(<span class="string">&#x27;&lt;/font&gt;&#x27;</span>, index)</span><br><span class="line">        status = text[index: endIndex]</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;Queuing&#x27;</span> <span class="keyword">in</span> status:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="string">&#x27;Compiling&#x27;</span> <span class="keyword">in</span> status:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="string">&#x27;Running&#x27;</span> <span class="keyword">in</span> status:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">elif</span> less <span class="keyword">in</span> status:</span><br><span class="line">            previous_runid = runid</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;lt&#x27;</span></span><br><span class="line">        <span class="keyword">elif</span> greater <span class="keyword">in</span> status:</span><br><span class="line">            previous_runid = runid</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;gt&#x27;</span></span><br><span class="line">        <span class="keyword">elif</span> equal <span class="keyword">in</span> status:</span><br><span class="line">            previous_runid = runid</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;eq&#x27;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">&#x27;unknow judge status: &#x27;</span> + status)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_data_submit</span>(<span class="params">skip, guess</span>):</span><br><span class="line">    usercode = <span class="string">&#x27;int guess = &#x27;</span> + <span class="built_in">str</span>(guess) + <span class="string">&#x27;;rn&#x27;</span></span><br><span class="line">    usercode = usercode + <span class="string">&#x27;int skip = &#x27;</span> + <span class="built_in">str</span>(skip) + <span class="string">&#x27;;rn&#x27;</span></span><br><span class="line">    usercode = usercode + template_input_data</span><br><span class="line">    <span class="keyword">return</span> test_submit(usercode)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">find_input_data</span>():</span><br><span class="line">    length = find_input_length()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;LEFT&#x27;</span>, <span class="string">&#x27;RIGHT&#x27;</span>, <span class="string">&#x27;SKIP&#x27;</span>, <span class="string">&#x27;GUESS&#x27;</span>, <span class="string">&#x27;RESULT&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> skip <span class="keyword">in</span> <span class="built_in">range</span>(length):</span><br><span class="line">        left = <span class="number">0</span></span><br><span class="line">        right = <span class="number">255</span></span><br><span class="line">        <span class="keyword">while</span> left &lt;= right:</span><br><span class="line">            guess = (left + right) // <span class="number">2</span></span><br><span class="line">            result = test_data_submit(skip, guess)</span><br><span class="line">            <span class="built_in">print</span>(left, right, skip, guess, result)</span><br><span class="line">            <span class="keyword">if</span> result == <span class="string">&#x27;eq&#x27;</span>:</span><br><span class="line">                file_data.append(guess)</span><br><span class="line">                <span class="built_in">print</span>(<span class="built_in">repr</span>(file_data))</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">elif</span> result == <span class="string">&#x27;lt&#x27;</span>:</span><br><span class="line">                right = guess -<span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> result == <span class="string">&#x27;gt&#x27;</span>:</span><br><span class="line">                left = guess + <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> left &gt; right:</span><br><span class="line">            file_data.append(<span class="string">&#x27;UNKNOWN&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> file_data</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(sys.argv) == <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;usage:ndiginput.py &lt;pid&gt; &lt;username&gt; &lt;userpass&gt;&#x27;</span>)</span><br><span class="line">    sys.exit(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    pid = <span class="built_in">int</span>(sys.argv[<span class="number">1</span>])</span><br><span class="line">    username = sys.argv[<span class="number">2</span>]</span><br><span class="line">    userpass = sys.argv[<span class="number">3</span>]</span><br><span class="line">    find_input_data()</span><br></pre></td></tr></table></figure>
<p>代码的思路也很清楚，就是对每一个字母用二分查找爬出他的值。</p>
<p>执行一下:<br><code>myths@myths-X450LD:~/Desktop$ python hdu.py 3337 &lt;用户名&gt; &lt;密码&gt;</code><br>等个十几分钟，大概系统提交了１００多发，得到了输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line">(&#x27;GUESS&#x27;, &#x27;RESULT&#x27;)</span><br><span class="line">(1, &#x27;gt&#x27;)</span><br><span class="line">(2, &#x27;gt&#x27;)</span><br><span class="line">(4, &#x27;gt&#x27;)</span><br><span class="line">(8, &#x27;gt&#x27;)</span><br><span class="line">(16, &#x27;lt&#x27;)</span><br><span class="line">(&#x27;LEFT&#x27;, &#x27;RIGHT&#x27;, &#x27;GUESS&#x27;, &#x27;RESULT&#x27;)</span><br><span class="line">(8, 16, 12, &#x27;gt&#x27;)</span><br><span class="line">(13, 16, 14, &#x27;eq&#x27;)</span><br><span class="line">(&#x27;length =&#x27;, 14)</span><br><span class="line">(&#x27;LEFT&#x27;, &#x27;RIGHT&#x27;, &#x27;SKIP&#x27;, &#x27;GUESS&#x27;, &#x27;RESULT&#x27;)</span><br><span class="line">(0, 255, 0, 127, &#x27;lt&#x27;)</span><br><span class="line">(0, 126, 0, 63, &#x27;gt&#x27;)</span><br><span class="line">(64, 126, 0, 95, &#x27;lt&#x27;)</span><br><span class="line">(64, 94, 0, 79, &#x27;gt&#x27;)</span><br><span class="line">(80, 94, 0, 87, &#x27;lt&#x27;)</span><br><span class="line">(80, 86, 0, 83, &#x27;gt&#x27;)</span><br><span class="line">(84, 86, 0, 85, &#x27;lt&#x27;)</span><br><span class="line">(84, 84, 0, 84, &#x27;eq&#x27;)</span><br><span class="line">[84]</span><br><span class="line">(0, 255, 1, 127, &#x27;lt&#x27;)</span><br><span class="line">(0, 126, 1, 63, &#x27;gt&#x27;)</span><br><span class="line">(64, 126, 1, 95, &#x27;gt&#x27;)</span><br><span class="line">(96, 126, 1, 111, &#x27;lt&#x27;)</span><br><span class="line">(96, 110, 1, 103, &#x27;gt&#x27;)</span><br><span class="line">(104, 110, 1, 107, &#x27;lt&#x27;)</span><br><span class="line">(104, 106, 1, 105, &#x27;lt&#x27;)</span><br><span class="line">(104, 104, 1, 104, &#x27;eq&#x27;)</span><br><span class="line">[84, 104]</span><br><span class="line">(0, 255, 2, 127, &#x27;lt&#x27;)</span><br><span class="line">(0, 126, 2, 63, &#x27;gt&#x27;)</span><br><span class="line">(64, 126, 2, 95, &#x27;gt&#x27;)</span><br><span class="line">(96, 126, 2, 111, &#x27;lt&#x27;)</span><br><span class="line">(96, 110, 2, 103, &#x27;lt&#x27;)</span><br><span class="line">(96, 102, 2, 99, &#x27;gt&#x27;)</span><br><span class="line">(100, 102, 2, 101, &#x27;eq&#x27;)</span><br><span class="line">[84, 104, 101]</span><br><span class="line">(0, 255, 3, 127, &#x27;lt&#x27;)</span><br><span class="line">(0, 126, 3, 63, &#x27;lt&#x27;)</span><br><span class="line">(0, 62, 3, 31, &#x27;gt&#x27;)</span><br><span class="line">(32, 62, 3, 47, &#x27;lt&#x27;)</span><br><span class="line">(32, 46, 3, 39, &#x27;lt&#x27;)</span><br><span class="line">(32, 38, 3, 35, &#x27;lt&#x27;)</span><br><span class="line">(32, 34, 3, 33, &#x27;lt&#x27;)</span><br><span class="line">(32, 32, 3, 32, &#x27;eq&#x27;)</span><br><span class="line">[84, 104, 101, 32]</span><br><span class="line">(0, 255, 4, 127, &#x27;lt&#x27;)</span><br><span class="line">(0, 126, 4, 63, &#x27;gt&#x27;)</span><br><span class="line">(64, 126, 4, 95, &#x27;lt&#x27;)</span><br><span class="line">(64, 94, 4, 79, &#x27;lt&#x27;)</span><br><span class="line">(64, 78, 4, 71, &#x27;lt&#x27;)</span><br><span class="line">(64, 70, 4, 67, &#x27;lt&#x27;)</span><br><span class="line">(64, 66, 4, 65, &#x27;eq&#x27;)</span><br><span class="line">[84, 104, 101, 32, 65]</span><br><span class="line">(0, 255, 5, 127, &#x27;lt&#x27;)</span><br><span class="line">(0, 126, 5, 63, &#x27;gt&#x27;)</span><br><span class="line">(64, 126, 5, 95, &#x27;lt&#x27;)</span><br><span class="line">(64, 94, 5, 79, &#x27;gt&#x27;)</span><br><span class="line">(80, 94, 5, 87, &#x27;lt&#x27;)</span><br><span class="line">(80, 86, 5, 83, &#x27;eq&#x27;)</span><br><span class="line">[84, 104, 101, 32, 65, 83]</span><br><span class="line">(0, 255, 6, 127, &#x27;lt&#x27;)</span><br><span class="line">(0, 126, 6, 63, &#x27;gt&#x27;)</span><br><span class="line">(64, 126, 6, 95, &#x27;lt&#x27;)</span><br><span class="line">(64, 94, 6, 79, &#x27;lt&#x27;)</span><br><span class="line">(64, 78, 6, 71, &#x27;lt&#x27;)</span><br><span class="line">(64, 70, 6, 67, &#x27;eq&#x27;)</span><br><span class="line">[84, 104, 101, 32, 65, 83, 67]</span><br><span class="line">(0, 255, 7, 127, &#x27;lt&#x27;)</span><br><span class="line">(0, 126, 7, 63, &#x27;gt&#x27;)</span><br><span class="line">(64, 126, 7, 95, &#x27;lt&#x27;)</span><br><span class="line">(64, 94, 7, 79, &#x27;lt&#x27;)</span><br><span class="line">(64, 78, 7, 71, &#x27;gt&#x27;)</span><br><span class="line">(72, 78, 7, 75, &#x27;lt&#x27;)</span><br><span class="line">(72, 74, 7, 73, &#x27;eq&#x27;)</span><br><span class="line">[84, 104, 101, 32, 65, 83, 67, 73]</span><br><span class="line">(0, 255, 8, 127, &#x27;lt&#x27;)</span><br><span class="line">(0, 126, 8, 63, &#x27;gt&#x27;)</span><br><span class="line">(64, 126, 8, 95, &#x27;lt&#x27;)</span><br><span class="line">(64, 94, 8, 79, &#x27;lt&#x27;)</span><br><span class="line">(64, 78, 8, 71, &#x27;gt&#x27;)</span><br><span class="line">(72, 78, 8, 75, &#x27;lt&#x27;)</span><br><span class="line">(72, 74, 8, 73, &#x27;eq&#x27;)</span><br><span class="line">[84, 104, 101, 32, 65, 83, 67, 73, 73]</span><br><span class="line">(0, 255, 9, 127, &#x27;lt&#x27;)</span><br><span class="line">(0, 126, 9, 63, &#x27;lt&#x27;)</span><br><span class="line">(0, 62, 9, 31, &#x27;gt&#x27;)</span><br><span class="line">(32, 62, 9, 47, &#x27;lt&#x27;)</span><br><span class="line">(32, 46, 9, 39, &#x27;lt&#x27;)</span><br><span class="line">(32, 38, 9, 35, &#x27;lt&#x27;)</span><br><span class="line">(32, 34, 9, 33, &#x27;lt&#x27;)</span><br><span class="line">(32, 32, 9, 32, &#x27;eq&#x27;)</span><br><span class="line">[84, 104, 101, 32, 65, 83, 67, 73, 73, 32]</span><br><span class="line">(0, 255, 10, 127, &#x27;lt&#x27;)</span><br><span class="line">(0, 126, 10, 63, &#x27;gt&#x27;)</span><br><span class="line">(64, 126, 10, 95, &#x27;gt&#x27;)</span><br><span class="line">(96, 126, 10, 111, &#x27;eq&#x27;)</span><br><span class="line">[84, 104, 101, 32, 65, 83, 67, 73, 73, 32, 111]</span><br><span class="line">(0, 255, 11, 127, &#x27;lt&#x27;)</span><br><span class="line">(0, 126, 11, 63, &#x27;gt&#x27;)</span><br><span class="line">(64, 126, 11, 95, &#x27;gt&#x27;)</span><br><span class="line">(96, 126, 11, 111, &#x27;lt&#x27;)</span><br><span class="line">(96, 110, 11, 103, &#x27;lt&#x27;)</span><br><span class="line">(96, 102, 11, 99, &#x27;gt&#x27;)</span><br><span class="line">(100, 102, 11, 101, &#x27;gt&#x27;)</span><br><span class="line">(102, 102, 11, 102, &#x27;eq&#x27;)</span><br><span class="line">[84, 104, 101, 32, 65, 83, 67, 73, 73, 32, 111, 102]</span><br><span class="line">(0, 255, 12, 127, &#x27;lt&#x27;)</span><br><span class="line">(0, 126, 12, 63, &#x27;lt&#x27;)</span><br><span class="line">(0, 62, 12, 31, &#x27;gt&#x27;)</span><br><span class="line">(32, 62, 12, 47, &#x27;lt&#x27;)</span><br><span class="line">(32, 46, 12, 39, &#x27;lt&#x27;)</span><br><span class="line">(32, 38, 12, 35, &#x27;lt&#x27;)</span><br><span class="line">(32, 34, 12, 33, &#x27;lt&#x27;)</span><br><span class="line">(32, 32, 12, 32, &#x27;eq&#x27;)</span><br><span class="line">[84, 104, 101, 32, 65, 83, 67, 73, 73, 32, 111, 102, 32]</span><br><span class="line">(0, 255, 13, 127, &#x27;lt&#x27;)</span><br><span class="line">(0, 126, 13, 63, &#x27;gt&#x27;)</span><br><span class="line">(64, 126, 13, 95, &#x27;lt&#x27;)</span><br><span class="line">(64, 94, 13, 79, &#x27;lt&#x27;)</span><br><span class="line">(64, 78, 13, 71, &#x27;gt&#x27;)</span><br><span class="line">(72, 78, 13, 75, &#x27;lt&#x27;)</span><br><span class="line">(72, 74, 13, 73, &#x27;lt&#x27;)</span><br><span class="line">(72, 72, 13, 72, &#x27;eq&#x27;)</span><br><span class="line">[84, 104, 101, 32, 65, 83, 67, 73, 73, 32, 111, 102, 32, 72]</span><br></pre></td></tr></table></figure>
<p>最后的一串数字转换为ASCII码就是“The ASCII of H”了。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Python/" rel="tag"># Python</a>
          
            <a href="/tags/Crawler/" rel="tag"># Crawler</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/11/16/%E5%88%A9%E7%94%A8chrome%E7%9A%84%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6%E4%B8%8B%E8%BD%BD%E8%A7%86%E9%A2%91/" rel="next" title="利用chrome的缓存机制下载视频">
                <i class="fa fa-chevron-left"></i> 利用chrome的缓存机制下载视频
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/11/19/%E5%9F%BA%E4%BA%8Estdarg.h%E7%9A%84%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E5%87%BD%E6%95%B0%E7%9A%84%E7%94%A8%E6%B3%95/" rel="prev" title="基于stdarg.h的可变参数函数的用法">
                基于stdarg.h的可变参数函数的用法 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">502</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">63</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">251</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Companyd</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
